
@model BaristaHome.Models.User

@{
    ViewData["Title"] = "Invite •";
}
@*Invite page, worker controller
*@

<style>
    a {
        color: inherit;
        text-decoration: none;
    }

    .title{
        font-size:40px;
        font-weight: 500;
        text-align:center;
        
    }

    .instructions {
        text-align:center;
        padding-bottom: 30px;
    }

    .pink-button{
        background-color: #ffdcf4;
        color:black;
        border:none;
        padding-top: 10px;
        padding-bottom: 10px;
        padding-left: 20px;
        padding-right: 20px;
        margin-bottom: 10px;
        box-shadow: 1px 1px 1px 0 rgba(0, 0, 0, 0.15);
        transition: background-color 0.15s, color 0.15s;
    }

    .page{
        justify-content:center;
        display:flex;
        margin-top:50px;
    }
    .background {
        background-color: antiquewhite;
        box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.15);
        padding-bottom: 30px;
        padding-left: 30px;
        padding-right: 30px;
        display:flex;
        flex-direction:column;

        width: 800px;
        padding-bottom: 100px;
        padding-top: 100px;
        

    }

    .invite-code{
        text-align: center;
        font-weight: 500;
        font-size: 40px;
        border: none;
        background: transparent;
        outline:none;
    }

    .invite-code-button{
        margin-top: 50px;
        width: 160px;
        height: 50px;
        align-self:center;
        background-color:lightpink;
        color:brown;
        border-color: lightpink;
        border-style:solid;
        border-radius: 3px;
        transition: background-color 0.25s, color 0.25s;

    }

    .invite-code-button:hover{
        background-color:white;
        color:lightpink;
        border-color:lightpink;
        border-style:solid;
        border-radius:3px;
    }

    .invite-code-button:active{
        background-color:brown;
    }

    .white-modal{
        background-color:white;
        height: 200px;
        width: 550px;
    }

    .page-modal-title{
        font-size: 14px;
    }

    .x-button{
        color:dimgray;
        background-color:white;
        border:none;
        margin-left: 440px;
        font-size:20px;
    }

    .invite-icon{
        position: fixed;
        top: 100px;
        height: 190px;
    }

    .center {
        width: 75%;
        text-align: center;
    }
</style>

<html>
    <body>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <header>
            <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light border-bottom box-shadow mb-3" style="background-color:#ffdcf4">
                <a class="nav-link pink-button-left" asp-controller="Worker" asp-action="Index">Back</a>

                <div class="center">
                    <h1 class="title">Worker Management</h1>
                </div>
            </nav>
        </header>

        <div class="page">

            <div class="background">
                <p class= "title">Invite An Employee</p>
                <p class= "instructions">When a user registers an account, they need to use the invite code below to be added to your store.</P>
        
                <input class="invite-code" type="text" READONLY value=@Model.InviteCode.ToString() id="myInput">
                <button type="button" id="copyButton" class="invite-code-button btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter" onclick="myFunction()">Copy Code</button>

            </div>
        </div>



        <!-- Modal -->
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" style="background-color: #ffe4bc;"> 
                  <div class="modal-header border-0">
                       <button type="button" class="x-button" data-dismiss="modal">x</button>
                  </div>
                  <div style="margin-left: 30px; font-size: 20px;" class="modal-body">
                    Invite code has been copied.
                  </div>
                  <div class="modal-footer border-0">
                    <button type="button" class="btn btn-secondary pink-button" data-dismiss="modal">Ok</button>
              </div>
            </div>
          </div>
        </div>

        <script>
        function myFunction() {
        // Get the text field
            var copyText = document.getElementById("myInput");

            // Select the text field
            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices

            // Copy the text inside the text field
            navigator.clipboard.writeText(copyText.value);
 
        }
        </script>
        <script>
            $(function(){
                $('#exampleModalCenter').on('show.bs.modal', function(){
                    var myModal = $(this);
                    clearTimeout(myModal.data('hideInterval'));
                    myModal.data('hideInterval', setTimeout(function(){
                        myModal.modal('hide');
                    }, 3000));
                });
            });
        </script>

   
</body>
</html>